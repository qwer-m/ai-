# 实施全动态混合开发模式计划

该计划将改造后端代码以支持无 `dist` 目录运行，通过代理直接连接前端开发服务，实现真正的“前后端全动态”开发体验。

## 1. 后端改造 (main.py)
### 目标
解除对 `frontend/dist` 目录的强制依赖，将静态文件服务替换为动态反向代理。

### 具体变更
- **引入依赖**: 添加 `httpx` 库用于转发请求。
- **重写路由**: 修改 `spa_fallback` 函数。
    - **逻辑变更**: 不再检查本地 `dist` 文件。
    - **新逻辑**: 将所有非 API 请求直接转发至 `http://localhost:5173` (Vite 开发服务器)。
    - **异常处理**: 如果前端服务未启动，返回友好的 HTML 提示页面，指导用户运行启动命令。

## 2. 环境清理
- **删除目录**: 删除 `c:\Users\Administrator\Desktop\ai技术辅助测试\frontend\dist` 文件夹，确保系统完全运行在动态模式下，不使用任何旧的缓存文件。

## 3. 启动命令说明
执行完上述变更后，您需要分别在两个终端中运行以下命令：

### 终端 1：后端服务 (Backend)
*负责 API 接口处理及前端页面代理转发*
```powershell
cd ai_test_platform
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### 终端 2：前端动态服务 (Frontend)
*负责实时编译前端代码并提供给后端代理*
```powershell
cd frontend
npm run dev
```

---
**确认执行后，我将为您修改代码并删除旧构建文件。**