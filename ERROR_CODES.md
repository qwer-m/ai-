# AI 测试平台错误码说明文档

本文档旨在规范系统错误码定义，帮助开发和运维人员快速定位问题。

## 错误码结构

格式：`ERR_模块_序号`
- `ERR`: 固定前缀
- `模块`: 3个字母缩写 (SYS=系统, API=接口, TEST=测试执行)
- `序号`: 3位数字

## 错误码列表

### 1. 系统级错误 (SYS)

| 错误码 | 含义 | 可能原因 | 解决建议 |
|---|---|---|---|
| `ERR_SYS_001` | 未知系统错误 | 代码抛出了未捕获的异常 | 检查后端日志堆栈信息，修复 Bug |
| `ERR_SYS_002` | 数据库连接失败 | 数据库宕机或配置错误 | 检查数据库服务状态及连接字符串 |

### 2. API 调用错误 (API)

| 错误码 | 含义 | 可能原因 | 解决建议 |
|---|---|---|---|
| `ERR_API_001` | 请求参数无效 | 前端传递的参数缺失或类型错误 | 检查请求 Payload，参考 API 文档 |
| `ERR_API_002` | 认证失败 | API Key 无效或过期 | 检查系统配置中的 API Key 设置 |
| `ERR_API_003` | 模型调用限流 | 超过了 AI 模型的并发或 Token 限制 | 稍后重试，或升级模型配额 |

### 3. 测试执行错误 (TEST)

| 错误码 | 含义 | 可能原因 | 解决建议 |
|---|---|---|---|
| `ERR_TEST_001` | 代码生成失败 | AI 未能生成有效的 Python 代码 | 检查 Prompt 配置，或简化测试需求 |
| `ERR_TEST_002` | 语法检查失败 | 生成的代码包含 Python 语法错误 | 重新生成，或手动修正代码 |
| `ERR_TEST_003` | 执行运行时错误 | 测试脚本运行时崩溃 (如 requests 异常) | 检查目标服务是否可用，或网络连接 |
| `ERR_TEST_004` | 断言失败 | 接口返回结果与预期不符 | **这是正常的测试发现**，请检查业务逻辑或用例预期 |

## 前端展示策略

*   **红色 (Danger)**: `ERR_SYS_xxx`, `ERR_TEST_001` ~ `ERR_TEST_003` (需要修复工具或环境)
*   **黄色 (Warning)**: `ERR_TEST_004` (测试不通过，需检查业务)
*   **绿色 (Success)**: 无错误

---
*文档更新时间: 2026-01-07*
